
# AI Coding Agent Instructions for `git-history`

## Project Purpose & Architecture

- This is a VS Code extension for browsing and searching Git commit history in a user-friendly webview.
- Main entry: `src/extension.ts` (registers the `git-history.showHistory` command, manages webview, and fetches git data).
- Uses `simple-git` for all git log and file queries (the VS Code Git API does not provide commit history).
- UI is built with the VS Code webview API, HTML, and inline CSS/JS (see `getWebviewContent` in `extension.ts`).
- The extension supports multi-root workspaces: it detects all Git repositories and prompts the user to select one if multiple are found.

## Key Developer Workflows

- **Build/Run:**
	- `npm install` to set up dependencies.
	- Press `F5` in VS Code to launch the extension in a new Extension Development Host.
	- Use the command palette (`Ctrl+Shift+P`) and run `Show Git History` to activate the extension.
- **Testing:**
	- Tests (if present) are in `src/test/extension.test.ts` and can be run with `npm test`.
- **Debugging:**
	- Use breakpoints in `src/extension.ts` and debug via the Extension Development Host.

## Project-Specific Patterns & Conventions

- All git operations (log, file list) are performed using `simple-git` and the selected repository path.
- Repository selection logic is in `extension.ts` and uses the VS Code Git extension API to enumerate repositories, not just folders.
- The webview UI is a single HTML page generated by `getWebviewContent`, with all logic inlined (no external scripts/styles).
- Communication between the webview and extension is via `panel.webview.onDidReceiveMessage`.
- The extension is designed to be theme-aware and responsive, using VS Code theme variables in CSS.

## Integration Points & External Dependencies

- Depends on `simple-git` for all git operations (see `package.json`).
- Integrates with the VS Code Git extension (`vscode.git`) only to enumerate repositories, not for log/history.
- No backend/server; all logic runs in the extension host and webview.

## Examples & References

- See `src/extension.ts` for the main command, repository selection, git log fetch, and webview setup.
- See `README.md` for user-facing features and settings.
- See `package.json` for contributed commands and extension metadata.

---
If you are unsure about a workflow or pattern, check `src/extension.ts` for the canonical implementation. If adding new features, follow the single-file, inline-UI pattern unless a major refactor is justified.
